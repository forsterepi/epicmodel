<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Steplists • epicmodel</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Steplists">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">epicmodel</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/epicmodel.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/steplist.html">Steplists</a></li>
    <li><a class="dropdown-item" href="../articles/steplist_creator_tutorial.html">Steplist Creator Tutorial</a></li>
    <li><a class="dropdown-item" href="../articles/scc.html">SCC Models</a></li>
    <li><a class="dropdown-item" href="../articles/modules.html">Modules</a></li>
    <li><a class="dropdown-item" href="../articles/glossary.html">Glossary</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/forsterepi/epicmodel/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Steplists</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/forsterepi/epicmodel/blob/master/vignettes/steplist.Rmd" class="external-link"><code>vignettes/steplist.Rmd</code></a></small>
      <div class="d-none name"><code>steplist.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://forsterepi.github.io/epicmodel/">epicmodel</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="input-for-scc-model-creation">Input for SCC model creation<a class="anchor" aria-label="anchor" href="#input-for-scc-model-creation"></a>
</h2>
<p><strong>Sufficient-component cause (SCC) models</strong> consist of
component causes, which are grouped to sufficient causes. Sufficient
causes are minimally sufficient for the outcome of interest to occur,
i.e., if only one of the component causes included is missing, the
outcome does not occur (at least not via this sufficient cause).</p>
<p>The <strong>main modeling task</strong> when creating SCC models is
therefore to specify, which component causes belong into the same
sufficient cause. Since SCC models are causal models, these
specifications need to be based on knowledge regarding the mechanisms of
outcome occurrence and not statistical knowledge, i.e., based on the
mechanisms of outcome occurrence it needs to be specified how component
causes are connected with each other and with the outcome.</p>
<p>Because sufficient causes are minimally sufficient, it is necessary
to also describe minimally sufficient mechanisms that connect them. For
this reason, the complex net of mechanisms leading to outcome occurrence
needs to be split into small parts. These small parts are called
<strong>steps</strong> in <code>epicmodel</code>. Component causes are
linked with each other and the outcome of interest by
<strong>chaining</strong> these steps together.</p>
</div>
<div class="section level2">
<h2 id="step-structure">Step structure<a class="anchor" aria-label="anchor" href="#step-structure"></a>
</h2>
<p>Steps have a <strong>pre-defined structure</strong> to facilitate
chaining. The developed structure tries to strike the balance between
flexible and user-friendly step specification and automated SCC model
creation. The structure used in <code>epicmodel</code> is basically an
IF-THEN structure. Steps consists of 3 parts:</p>
<ul>
<li>IF condition</li>
<li>IFNOT condition</li>
<li>THEN statement</li>
</ul>
<div class="section level3">
<h3 id="then-statements">THEN statements<a class="anchor" aria-label="anchor" href="#then-statements"></a>
</h3>
<p>THEN statements are the core building block of steps. They describe
what happens, e.g., Cell A releases cytokine B, Exposure to C, D moves
to E, etc. In order to facilitate chaining of steps, THEN statements
also follow a <strong>pre-defined structure</strong>. This makes it
possible to automatically create ID and description for THEN statements.
IDs are then used for chaining. As steps are built from THEN statements,
this structure also enables automated creation of step IDs and
descriptions.</p>
<p>THEN statements contain <strong>up to 4 segments</strong>:</p>
<ul>
<li>WHAT segment (Subject)</li>
<li>DOES segment</li>
<li>WHAT segment or THEN statement (Object)</li>
<li>WHERE segment</li>
</ul>
<p>THEN statements follow a <code>WHAT DOES WHAT WHERE</code> structure
and therefore generally consist of <strong>WHAT, DOES, and WHERE
segments</strong>. WHAT segments can appear twice: the first is called
<strong>“subject”</strong>, the second is called
<strong>“object”</strong>. Here you can see how the examples above fit
into the <code>WHAT DOES WHAT WHERE</code> structure:</p>
<p><strong>Cell A releases cytokine B</strong></p>
<ul>
<li>WHAT: Cell A</li>
<li>DOES: releases</li>
<li>WHAT: cytokine B</li>
<li>WHERE: -</li>
</ul>
<p><strong>Exposure to C</strong></p>
<ul>
<li>WHAT: -</li>
<li>DOES: Exposure to</li>
<li>WHAT: C</li>
<li>WHERE: -</li>
</ul>
<p><strong>D moves to E</strong></p>
<ul>
<li>WHAT: D</li>
<li>DOES: moves</li>
<li>WHAT: -</li>
<li>WHERE: to E</li>
</ul>
<p>Some DOES segments require the <strong>object to be a THEN
statement</strong> instead of a WHAT segment. Imagine, e.g., the DOES
segment “inhibition”. In general, inhibition can be modeled by
specifying IFNOT conditions (see below). However, if inhibition only
occurs under certain condition, it might need to be specified as its own
step. Since only a certain process, i.e., a specific step is inhibited,
the object in these cases needs to be this exact step. There might be
other DOES segments, for which THEN objects are necessary. The option to
use THEN objects offers more flexibility to model the mechanisms found
in Nature within the <code>WHAT DOES WHAT WHERE</code> structure. Note
that a certain DOES segment either has WHAT or THEN objects in all its
steps. Please also note that THEN objects can be “stacked” by including
as object a THEN statement that already has a THEN object. In general,
WHAT object should be far more prevalent though. (That’s why we
generally refer to the structure as <code>WHAT DOES WHAT WHERE</code>
structure.)</p>
<p>A THEN statement can contain up to 4 segments, but it <strong>does
not have to</strong>. In general, all combinations of segments are
possible and you, the modeler, need to decide how to model the process
of interest. The <code>WHAT DOES WHAT WHERE</code> structure is supposed
to facilitate automation of naming and SCC creation, but also grant as
much flexibility as needed to model all necessary processes. Remember
that the goal is to connect component causes with each other and the
outcome of interest in order to enable grouping of component causes to
sufficient causes. The structure is designed with this goal in mind. So
far, in our projects, we were able to model all processes within this
structure, but if you encounter something you cannot model, let us know
on GitHub and we adjust the structure accordingly. Please also note
that, although all segment combinations are possible in theory, only
DOES, only WHERE, and WHAT-WHAT, in our experience, do not make much
sense.</p>
</div>
<div class="section level3">
<h3 id="if-and-ifnot-conditions">IF and IFNOT conditions<a class="anchor" aria-label="anchor" href="#if-and-ifnot-conditions"></a>
</h3>
<p>IF and IFNOT describe the conditions for the THEN statement to occur.
The IF condition must be fulfilled in order for the THEN statement to
occur. The IFNOT condition must <strong>not</strong> be fulfilled in
order for the THEN statement to occur. IF and IFNOT themselves are a
combination of THEN statements combined with AND/OR logic. By using THEN
statements in IF and IFNOT conditions, the individual step can be
chained together.</p>
<p>When creating a step, specification of the THEN statement is
mandatory while IF and IFNOT conditions are optional. If the IF
condition is missing, there is no pre-condition and the THEN statement
“just happens”. Therefore, this type of steps are <strong>“starting
steps”</strong> and their description begins with <code>Start:</code>.
They form the start of the chains that connect the component causes and
the outcome of interest. In our context, “starting steps” usually
represent component causes. In reality, component causes are, of course,
caused by other factors not otherwise involved in causing the outcome,
e.g., an occupational exposure that causes occupational asthma is caused
by socio-economic factors that influence job choice. But in the context
of SCC model creation when our task is to group the component causes to
sufficient causes, component causes are the starting point and therefore
represented by steps without IF condition. However, please note that
component causes can have IFNOT conditions.</p>
<p>Here are the step descriptions from the built-in steplist
<code>steplist_rain</code> as an example:</p>
<ul>
<li>Start: IFNOT take vacation THEN no vacation</li>
<li>Start: weekday</li>
<li>Start: rain</li>
<li>Start: get groceries</li>
<li>Start: take umbrella</li>
<li>Start: work from home</li>
<li>Start: take vacation</li>
<li>IF no vacation and weekday and IFNOT work from home THEN walk to
work</li>
<li>IF get groceries or walk to work THEN go outside</li>
<li>End: IF go outside and rain and IFNOT take umbrella THEN you get
wet</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="step-types">Step types<a class="anchor" aria-label="anchor" href="#step-types"></a>
</h2>
<p>There are, as mentioned, different types of steps that play different
roles during SCC model creation:</p>
<p>Based on the presence of an IF condition, we define:</p>
<ul>
<li>
<strong>Starting steps</strong>: Steps without IF condition</li>
<li>
<strong>Non-starting steps</strong>: Steps with IF condition</li>
</ul>
<p>Starting steps can also be separated into two types:</p>
<ul>
<li>
<strong>Component causes</strong>: Starting steps which appear in IF
conditions of other steps (and maybe additionally in IFNOT conditions of
other steps)</li>
<li>
<strong>Interventions</strong>: Starting steps which do
<strong>not</strong> appear in IF conditions of other steps but only in
IFNOT conditions of other steps</li>
</ul>
<p>Therefore, component causes, interventions, and non-starting steps
are mutually exclusive and together form the complete list of steps.</p>
<p>In addition, we define:</p>
<ul>
<li>
<strong>IFNOT steps</strong>: Steps with IFNOT condition, including
starting steps with IFNOT condition</li>
<li>
<strong>End steps</strong>: Steps that appear in outcome
definitions</li>
</ul>
</div>
<div class="section level2">
<h2 id="steplist">Steplist<a class="anchor" aria-label="anchor" href="#steplist"></a>
</h2>
<p>The steplist is the structure that contains all specified steps. It
is the only input for function <code><a href="../reference/create_scc.html">create_scc()</a></code>, which creates
the SCC model. See <code><a href="../reference/epicmodel_steplist.html">?new_steplist</a></code> for a detailed description
of the structure of steplists from a R perspective.</p>
<div class="section level3">
<h3 id="additional-step-attributes">Additional step attributes<a class="anchor" aria-label="anchor" href="#additional-step-attributes"></a>
</h3>
<p>Steps contain additional attributes:</p>
<ul>
<li>Module: Modules are groups to which steps are assigned. If modules
are used, every step is in exactly one module.</li>
<li>End step indicator: Indicates if a certain step is part of the
outcome definition</li>
<li>Note: Additional notes, e.g., regarding the level of evidence,
etc.</li>
<li>Reference: Since we model our steps based on the literature, every
step should have at least one reference</li>
</ul>
</div>
<div class="section level3">
<h3 id="steplist-elements">Steplist elements<a class="anchor" aria-label="anchor" href="#steplist-elements"></a>
</h3>
<p>In R, steplists are defined as S3 class and contain 8 data.frames.
Here’s a short overview, but also see <code><a href="../reference/epicmodel_steplist.html">?new_steplist</a></code> for
details.</p>
<ul>
<li>WHAT: Contains WHAT segments</li>
<li>DOES: Contains DOES segments</li>
<li>WHERE: Contains WHERE segments</li>
<li>THEN: Contains THEN statements</li>
<li>Module: Contains the list of modules</li>
<li>Step: Contains the list of steps</li>
<li>ICC: Short for <code>incompatible component causes</code> and
records combinations of component causes, which cannot appear in
practice. Sets of component causes which contain ICCs are not considered
during SCC model creation.</li>
<li>Outc: Short for <code>outcome definition</code>, which is a list of
conditions under which the outcome is assumed to have occurred. In
practice, the outcome definition consists of end steps combined by
AND/OR logic.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="steplist-creation">Steplist creation<a class="anchor" aria-label="anchor" href="#steplist-creation"></a>
</h2>
<p>Steplists are created with the built-in <strong>Steplist Creator
<code>Shiny</code> App</strong>. It can be launched with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/launch_steplist_creator.html">launch_steplist_creator</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>We made a little tutorial that shows how to use the
<code>shiny</code> app, see
<code><a href="../articles/steplist_creator_tutorial.html">vignette("articles/steplist_creator_tutorial")</a></code>. It contains
screenshots and an example for you to click along. Please note that the
tutorial is not shipped with the package and can only be accessed on the
homepage.</p>
</div>
<div class="section level2">
<h2 id="processing-steplists-in-r">Processing steplists in R<a class="anchor" aria-label="anchor" href="#processing-steplists-in-r"></a>
</h2>
<p>The steplist created in the <code>shiny</code> app can be downloaded
as <code>.rds</code> file and loaded into R using
<code><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS()</a></code>. Additionally, there are some options to process
the steplist in R, as it might be easier for some standard tasks instead
of clicking through the app. These functions accompany
<code><a href="../reference/check_steplist.html">check_steplist()</a></code>, so let’s talk about this function
first.</p>
<div class="section level3">
<h3 id="checked-and-unchecked-steplists">Checked and unchecked steplists<a class="anchor" aria-label="anchor" href="#checked-and-unchecked-steplists"></a>
</h3>
<p>A steplist needs to fulfill additional structural requirements in
order to be used in <code><a href="../reference/create_scc.html">create_scc()</a></code>. These requirements are
checked with <code><a href="../reference/check_steplist.html">check_steplist()</a></code>. The function documentation
contains a detailed description of conducted checks. Some violation will
result in errors, which means that checking was not successful and you
need to make changes. Other violations will only result in warnings,
which suggest some non-mandatory changes. If
<code><a href="../reference/check_steplist.html">check_steplist()</a></code> only results in warnings, you will still
get a checked steplist. Let’s look at the built-in
<code>steplist_party</code> as an example.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">steplist</span> <span class="op">&lt;-</span> <span class="va">steplist_party</span></span></code></pre></div>
<p>Now, let’s run <code><a href="../reference/check_steplist.html">check_steplist()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">steplist_checked</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/check_steplist.html">check_steplist</a></span><span class="op">(</span><span class="va">steplist</span><span class="op">)</span></span>
<span><span class="co">#&gt; ── Checking epicmodel_steplist steplist ──────────────────────────────────────────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; ✔ Checking WHAT IDs was successful.</span></span>
<span><span class="co">#&gt; ✔ Checking DOES IDs was successful.</span></span>
<span><span class="co">#&gt; ✔ Checking WHERE IDs was successful.</span></span>
<span><span class="co">#&gt; ✔ Checking Module IDs was successful.</span></span>
<span><span class="co">#&gt; ✔ Checking ICC IDs was successful.</span></span>
<span><span class="co">#&gt; ✔ Checking WHAT keywords was successful.</span></span>
<span><span class="co">#&gt; ✔ Checking DOES keywords was successful.</span></span>
<span><span class="co">#&gt; ✔ Checking WHERE keywords was successful.</span></span>
<span><span class="co">#&gt; ✔ Checking Module keywords was successful.</span></span>
<span><span class="co">#&gt; ✔ Checking Modules was successful.</span></span>
<span><span class="co">#&gt; ✖ Checking ICC entries failed!</span></span>
<span><span class="co">#&gt; Caused by error in `check_steps_in_icc()`:</span></span>
<span><span class="co">#&gt; ! All IDs in data.frame `icc`, i.e. in variables `id1` and `id2`, must be in `id_step` of data.frame `step`!</span></span>
<span><span class="co">#&gt; ℹ Data.frame `icc` contains 4 elements with two step IDs each.</span></span>
<span><span class="co">#&gt; ✖ In total, 1 ID is not in data.frame `step`: NA</span></span>
<span><span class="co">#&gt; ℹ If only `NA` is not in data.frame `step`, use `steplist &lt;- remove_na(steplist)`.</span></span>
<span><span class="co">#&gt; ✔ Checking WHAT segments was successful.</span></span>
<span><span class="co">#&gt; ! Checking DOES segments resulted in warnings!</span></span>
<span><span class="co">#&gt; Caused by warning:</span></span>
<span><span class="co">#&gt; ! Not all DOES segments have been used in data.frame `step`!</span></span>
<span><span class="co">#&gt; ℹ Data.frame `does` contains 6 elements.</span></span>
<span><span class="co">#&gt; ℹ In total, 1 DOES segment is not being used in data.frame `step`: d4</span></span>
<span><span class="co">#&gt; ✔ Checking WHERE segments was successful.</span></span>
<span><span class="co">#&gt; ! Checking references resulted in warnings!</span></span>
<span><span class="co">#&gt; Caused by warning:</span></span>
<span><span class="co">#&gt; ! For some steps no references have been provided!</span></span>
<span><span class="co">#&gt; ℹ In total, 16 steps have no references.</span></span>
<span><span class="co">#&gt; ✔ Checking start/end steps was successful.</span></span>
<span><span class="co">#&gt; ✔ Checking THEN statements was successful.</span></span>
<span><span class="co">#&gt; ✔ Checking THEN/IF/IFNOT equality was successful.</span></span>
<span><span class="co">#&gt; ✔ Checking outcome definitions was successful.</span></span>
<span><span class="co">#&gt; ── Summary ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; ✖ Checking failed! Please correct errors and repeat.</span></span></code></pre></div>
<p>You can see that many checks have been successful but also that some
of them resulted in errors or warnings. The first error tells you that
“Checking ICC entries failed!”. As a reminder, ICC is short for
incompatible component causes and it tells you that in the
<code>ICC</code> data.frame of the steplist, you used step IDs that have
not been defined, i.e., cannot be found in data.frame <code>step</code>
of the steplist. It gives more details: “In total, 1 ID is not in
data.frame <code>step</code>: NA”. This clarifies a lot: There is still
an entry in the table that contains NA, which is counted as an empty
element. Luckily, in this case, it offers a solution: using
<code><a href="../reference/remove_na.html">remove_na()</a></code>. Next, we have the warning “Not all DOES
segments have been used in data.frame <code>step</code>!” As it tells us
two lines below, we specified <code>d4</code> in data.frame
<code>does</code> but did not use it when creating steps. Even though
this won’t break SCC model creation, let’s also address it. Finally,
<code><a href="../reference/check_steplist.html">check_steplist()</a></code> warns us that “For some steps no
references have been provided!”. Because steps are usually based on the
literature, <code>epicmodel</code> will not get tired of telling you to
specify references in the steplist! In summary, checking failed, which
we can verify by printing <code>steplist_checked</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">steplist_checked</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> unchecked (please run `check_steplist()` before continuing)</span></span>
<span><span class="co">#&gt; WHAT:  9  WHAT segments</span></span>
<span><span class="co">#&gt; DOES:  6  DOES segments</span></span>
<span><span class="co">#&gt; WHERE:  6  WHERE segments</span></span>
<span><span class="co">#&gt; MODULE:  3  modules</span></span>
<span><span class="co">#&gt; STEP:  16  STEPs</span></span>
<span><span class="co">#&gt; ICC:  4  incompatible component-cause pairs</span></span>
<span><span class="co">#&gt; OUTCOME:  1  outcome definition</span></span></code></pre></div>
<p>The first line shows us that <code>steplist_checked</code> is still
“unchecked”. So, let’s work on those errors and warnings. First, to
remove the NAs from data.frame <code>icc</code>, let’s run
<code><a href="../reference/remove_na.html">remove_na()</a></code>. It removes rows that only consist of NAs from
data.frames <code>icc</code> as well as <code>outc</code>, which
contains the outcome definition. Next, we can delete DOES segment
<code>d4</code> with function <code><a href="../reference/remove_segment.html">remove_segment()</a></code>, which
allows you to delete a single entry from data.frames <code>what</code>,
<code>does</code>, <code>where</code>, <code>module</code>, and
<code>icc</code> by specifying its ID.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">steplist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/remove_na.html">remove_na</a></span><span class="op">(</span><span class="va">steplist</span><span class="op">)</span></span>
<span><span class="va">steplist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/remove_segment.html">remove_segment</a></span><span class="op">(</span><span class="va">steplist</span>, <span class="st">"d4"</span><span class="op">)</span></span></code></pre></div>
<p>This time, <code><a href="../reference/check_steplist.html">check_steplist()</a></code> is successful. Since our
example is about a party, we ignore the warning about references.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">steplist_checked</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/check_steplist.html">check_steplist</a></span><span class="op">(</span><span class="va">steplist</span><span class="op">)</span></span>
<span><span class="co"># ── Checking epicmodel_steplist steplist ───────────────────────────────────────────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co"># ✔ Checking WHAT IDs was successful.</span></span>
<span><span class="co"># ✔ Checking DOES IDs was successful.</span></span>
<span><span class="co"># ✔ Checking WHERE IDs was successful.</span></span>
<span><span class="co"># ✔ Checking Module IDs was successful.</span></span>
<span><span class="co"># ✔ Checking ICC IDs was successful.</span></span>
<span><span class="co"># ✔ Checking WHAT keywords was successful.</span></span>
<span><span class="co"># ✔ Checking DOES keywords was successful.</span></span>
<span><span class="co"># ✔ Checking WHERE keywords was successful.</span></span>
<span><span class="co"># ✔ Checking Module keywords was successful.</span></span>
<span><span class="co"># ✔ Checking Modules was successful.</span></span>
<span><span class="co"># ✔ Checking ICC entries was successful.</span></span>
<span><span class="co"># ✔ Checking WHAT segments was successful.</span></span>
<span><span class="co"># ✔ Checking DOES segments was successful.</span></span>
<span><span class="co"># ✔ Checking WHERE segments was successful.</span></span>
<span><span class="co"># ! Checking references resulted in warnings!</span></span>
<span><span class="co"># Caused by warning:</span></span>
<span><span class="co"># ! For some steps no references have been provided!</span></span>
<span><span class="co"># ℹ In total, 16 steps have no references.</span></span>
<span><span class="co"># ✔ Checking start/end steps was successful.</span></span>
<span><span class="co"># ✔ Checking THEN statements was successful.</span></span>
<span><span class="co"># ✔ Checking THEN/IF/IFNOT equality was successful.</span></span>
<span><span class="co"># ✔ Checking outcome definitions was successful.</span></span>
<span><span class="co"># ── Summary ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co"># ✔ Checking successful!</span></span></code></pre></div>
<p>Printing <code>steplist_checked</code> confirms that checking was
successful.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">steplist_checked</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> checked successfully</span></span>
<span><span class="co">#&gt; WHAT:  9  WHAT segments</span></span>
<span><span class="co">#&gt; DOES:  5  DOES segments</span></span>
<span><span class="co">#&gt; WHERE:  6  WHERE segments</span></span>
<span><span class="co">#&gt; MODULE:  3  modules</span></span>
<span><span class="co">#&gt; STEP:  16  STEPs</span></span>
<span><span class="co">#&gt; ICC:  3  incompatible component-cause pairs</span></span>
<span><span class="co">#&gt; OUTCOME:  1  outcome definition</span></span></code></pre></div>
<p>There is another function available for processing steplists in R.
It’s called <code><a href="../reference/remove_all_modules.html">remove_all_modules()</a></code> and, as the name implies,
it removes all modules from data.frame <code>module</code> and deletes
assigned modules in data.frame <code>step</code>. <code>epicmodel</code>
expects that either all steps or none of them have a module specified.
With <code><a href="../reference/remove_all_modules.html">remove_all_modules()</a></code>, you have an easy tool for
choosing the second option.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">steplist_checked</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/remove_all_modules.html">remove_all_modules</a></span><span class="op">(</span><span class="va">steplist_checked</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Changing the steplist makes it necessary to repeat `check_steplist()`!</span></span></code></pre></div>
<p>We already get a warning that we need to repeat
<code><a href="../reference/check_steplist.html">check_steplist()</a></code>. Let’s print <code>steplist_checked</code>
to investigate.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">steplist_checked</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> unchecked (please run `check_steplist()` before continuing)</span></span>
<span><span class="co">#&gt; WHAT:  9  WHAT segments</span></span>
<span><span class="co">#&gt; DOES:  5  DOES segments</span></span>
<span><span class="co">#&gt; WHERE:  6  WHERE segments</span></span>
<span><span class="co">#&gt; MODULE:  0  modules</span></span>
<span><span class="co">#&gt; STEP:  16  STEPs</span></span>
<span><span class="co">#&gt; ICC:  3  incompatible component-cause pairs</span></span>
<span><span class="co">#&gt; OUTCOME:  1  outcome definition</span></span></code></pre></div>
<p>Indeed, we see that <code>steplist_checked</code> has 0 modules now
but is “unchecked” again. In fact, <code><a href="../reference/remove_na.html">remove_na()</a></code> and
<code><a href="../reference/remove_segment.html">remove_segment()</a></code> also “uncheck” a previously checked
steplist. Additionally, all steplists you download from the
<code>shiny</code> app are “unchecked” as well, even if you uploaded a
“checked” steplist.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Felix Forster.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
