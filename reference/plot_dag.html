<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot DAG — plot_dag • epicmodel</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot DAG — plot_dag"><meta name="description" content="Creates a ggplot from a dagitty object, using packages dagitty and ggdag. Mimics format and colors used on the dagitty homepage
https://www.dagitty.net. Please note the recommendation in argument label_shift below: Getting the values for label_shift right can be an iterative
and slightly tedious procedure. It is highly recommended to evaluate the result of the current values already in the saved plot using,
e.g., ggsave and not in the RStudio Viewer."><meta property="og:description" content="Creates a ggplot from a dagitty object, using packages dagitty and ggdag. Mimics format and colors used on the dagitty homepage
https://www.dagitty.net. Please note the recommendation in argument label_shift below: Getting the values for label_shift right can be an iterative
and slightly tedious procedure. It is highly recommended to evaluate the result of the current values already in the saved plot using,
e.g., ggsave and not in the RStudio Viewer."><meta property="og:image" content="https://forsterepi.github.io/epicmodel/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">epicmodel</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/epicmodel.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/steplist.html">Steplists</a></li>
    <li><a class="dropdown-item" href="../articles/steplist_creator_tutorial.html">Steplist Creator Tutorial</a></li>
    <li><a class="dropdown-item" href="../articles/scc.html">SCC Models</a></li>
    <li><a class="dropdown-item" href="../articles/modules.html">Modules</a></li>
    <li><a class="dropdown-item" href="../articles/glossary.html">Glossary</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/forsterepi/epicmodel/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Plot DAG</h1>
      <small class="dont-index">Source: <a href="https://github.com/forsterepi/epicmodel/blob/master/R/dag.R" class="external-link"><code>R/dag.R</code></a></small>
      <div class="d-none name"><code>plot_dag.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates a ggplot from a <code>dagitty</code> object, using packages <code>dagitty</code> and <code>ggdag</code>. Mimics format and colors used on the <code>dagitty</code> homepage
https://www.dagitty.net. Please note the recommendation in argument <code>label_shift</code> below: Getting the values for <code>label_shift</code> right can be an iterative
and slightly tedious procedure. It is highly recommended to evaluate the result of the current values already in the saved plot using,
e.g., <code>ggsave</code> and not in the RStudio Viewer.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_dag</span><span class="op">(</span></span>
<span>  <span class="va">dag</span>,</span>
<span>  node_outc <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  node_expo <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  node_adj <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  node_latent <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  path_causal <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  path_biased <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  label <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  label_shift <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  label_size <span class="op">=</span> <span class="fl">2.5</span>,</span>
<span>  node_size <span class="op">=</span> <span class="fl">7</span>,</span>
<span>  node_stroke <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  e_w <span class="op">=</span> <span class="fl">0.4</span>,</span>
<span>  cap_mm <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  scc <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  scc_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.35</span><span class="op">)</span>,</span>
<span>  scc_shift <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  scc_angle <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dag">dag<a class="anchor" aria-label="anchor" href="#arg-dag"></a></dt>
<dd><p>An object of class <code>dagitty</code>. Can be created by using <code>dagitty::dagitty('[model_code]')</code> or <code><a href="scc_to_dag.html">scc_to_dag()</a></code>. If your DAG has
been created by <code><a href="scc_to_dag.html">scc_to_dag()</a></code>, make sure to pass only the first element (named <code>dag</code>) to <code>plot_dag</code>.</p></dd>


<dt id="arg-node-outc">node_outc<a class="anchor" aria-label="anchor" href="#arg-node-outc"></a></dt>
<dd><p>A single element of type character or NULL (default). If the outcome has not yet been specified in <code>dag</code>, it can be done here by
specifiying the name of the corresponding node.</p></dd>


<dt id="arg-node-expo">node_expo<a class="anchor" aria-label="anchor" href="#arg-node-expo"></a></dt>
<dd><p>A single element of type character or NULL (default). If the exposure has not yet been specified in <code>dag</code>, it can be done here
by specifiying the name of the corresponding node.</p></dd>


<dt id="arg-node-adj">node_adj<a class="anchor" aria-label="anchor" href="#arg-node-adj"></a></dt>
<dd><p>A character vector or NULL (default). Specify the names of nodes that should be defined as "adjusted".</p></dd>


<dt id="arg-node-latent">node_latent<a class="anchor" aria-label="anchor" href="#arg-node-latent"></a></dt>
<dd><p>A character vector or NULL (default). Specify the names of nodes that should be defined as "latent".</p></dd>


<dt id="arg-path-causal">path_causal<a class="anchor" aria-label="anchor" href="#arg-path-causal"></a></dt>
<dd><p>A character vector or NULL (default). Specify the names of the paths in format "V1-&gt;V2" that should be defined as "causal".</p></dd>


<dt id="arg-path-biased">path_biased<a class="anchor" aria-label="anchor" href="#arg-path-biased"></a></dt>
<dd><p>A character vector or NULL (default). Specify the names of the paths in format "V1-&gt;V2" that should be defined as "biased".</p></dd>


<dt id="arg-label">label<a class="anchor" aria-label="anchor" href="#arg-label"></a></dt>
<dd><p>A named character vector or NULL (default). Change the name of nodes in the graph, i.e., labels. The vector elements correspond to
the new names, the vector names correspond to the old node names, i.e., <code>label = c(old_name = "new_name").</code></p></dd>


<dt id="arg-label-shift">label_shift<a class="anchor" aria-label="anchor" href="#arg-label-shift"></a></dt>
<dd><p>A named list (with all elements being numerical vectors of length 2) or NULL (default). Numerical values are used to move the
labels of the corresponding nodes in x and y direction, respectively. The list names correspond to the nodes to which the values apply. Possible
list names are the node names (initial names prior to changing them via <code>label</code>), node types, i.e., <code>outcome</code>, <code>exposure</code>, <code>adjusted</code>, <code>latent</code>,
and <code>other</code>, as well as <code>all</code>, which applies to all nodes. If a node is addressed by several entries, e.g., its name and <code>all</code>, all entries are
summed up. See the example below. Getting the values for <code>label_shift</code> right can be an iterative and slightly tedious procedure. It is highly
recommended to evaluate the result of the current values already in the saved plot using, e.g., <code>ggsave</code> and not in the RStudio Viewer.</p></dd>


<dt id="arg-label-size">label_size<a class="anchor" aria-label="anchor" href="#arg-label-size"></a></dt>
<dd><p>A single numeric value, which controls the font size of the label. Default is 2.5.</p></dd>


<dt id="arg-node-size">node_size<a class="anchor" aria-label="anchor" href="#arg-node-size"></a></dt>
<dd><p>A single numeric value, which controls the size of the circle that represents the node. Default is 7.</p></dd>


<dt id="arg-node-stroke">node_stroke<a class="anchor" aria-label="anchor" href="#arg-node-stroke"></a></dt>
<dd><p>A single numeric value, which controls the size of the black border around the node circles. Default is 1.</p></dd>


<dt id="arg-e-w">e_w<a class="anchor" aria-label="anchor" href="#arg-e-w"></a></dt>
<dd><p>A single numeric value, which controls edge width. Default is 0.4.</p></dd>


<dt id="arg-cap-mm">cap_mm<a class="anchor" aria-label="anchor" href="#arg-cap-mm"></a></dt>
<dd><p>A single numeric value, which controls the distance, i.e., white space, between when the node ends and the edge begins/ the edge
ends and the node begins. Higher values correspond to shorter edges/arrows. Default is 4.</p></dd>


<dt id="arg-scc">scc<a class="anchor" aria-label="anchor" href="#arg-scc"></a></dt>
<dd><p>TRUE or FALSE (default). Only applies to DAGs that are based on sufficient-component cause (SCC) models. If TRUE, an ellipse is
added to the DAG, which should surround all sufficient cause variables, if they are a determinative set of sufficient causes, as suggested by
VanderWeele and Robins (2007). If the DAG is not based on a SCC, leave <code>scc</code> at FALSE.</p></dd>


<dt id="arg-scc-size">scc_size<a class="anchor" aria-label="anchor" href="#arg-scc-size"></a></dt>
<dd><p>A numeric vector of length 2, which controls the size of the ellipse. Default is c(0.1, 0.35).</p></dd>


<dt id="arg-scc-shift">scc_shift<a class="anchor" aria-label="anchor" href="#arg-scc-shift"></a></dt>
<dd><p>A numeric vector of length 2, which controls the shift of the complete ellipse in x and y direction. Default is c(0, 0).</p></dd>


<dt id="arg-scc-angle">scc_angle<a class="anchor" aria-label="anchor" href="#arg-scc-angle"></a></dt>
<dd><p>A single numeric value, which controls rotiation of the ellipse in degree units. Default is 0.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>ggplot</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>VanderWeele TJ, Robins JM (2007): Directed acyclic graphs, sufficient causes, and the properties of conditioning on
a common effect. American Journal of Epidemiology 166 (9): 1096–1104.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="https://rdrr.io/pkg/dagitty/man/dagitty.html" class="external-link">dagitty::dagitty()</a></code></p></li>
<li><p><code><a href="scc_to_dag.html">scc_to_dag()</a></code> for creating DAGs from SCC models</p></li>
<li><p><code><a href="epicmodel_scc.html">SCC models</a></code> for more information on SCC models</p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Transform SCC model into a DAG</span></span></span>
<span class="r-in"><span><span class="va">dag</span> <span class="op">&lt;-</span> <span class="fu"><a href="scc_to_dag.html">scc_to_dag</a></span><span class="op">(</span><span class="va">scc_rain</span><span class="op">)</span><span class="op">[[</span><span class="st">"dag"</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot DAG</span></span></span>
<span class="r-in"><span><span class="fu">plot_dag</span><span class="op">(</span><span class="va">dag</span>, label_shift <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>all <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0.15</span><span class="op">)</span>, outcome <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_dag-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot_dag() works also with dagitty objects created in other ways</span></span></span>
<span class="r-in"><span><span class="va">dag_to_plot</span> <span class="op">&lt;-</span> <span class="fu">dagitty</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/dagitty/man/dagitty.html" class="external-link">dagitty</a></span><span class="op">(</span><span class="st">'dag {</span></span></span>
<span class="r-in"><span><span class="st">bb="-2.628,-2.412,2.659,2.378"</span></span></span>
<span class="r-in"><span><span class="st">V1 [pos="-2.128,-1.912"]</span></span></span>
<span class="r-in"><span><span class="st">V2 [pos="-0.031,0.035"]</span></span></span>
<span class="r-in"><span><span class="st">V3 [pos="2.159,1.878"]</span></span></span>
<span class="r-in"><span><span class="st">V1 -&gt; V2</span></span></span>
<span class="r-in"><span><span class="st">V2 -&gt; V3</span></span></span>
<span class="r-in"><span><span class="st">}'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">plot_dag</span><span class="op">(</span><span class="va">dag_to_plot</span>, node_outc <span class="op">=</span> <span class="st">"V3"</span>, node_expo <span class="op">=</span> <span class="st">"V1"</span>, label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>V3 <span class="op">=</span> <span class="st">"outcome"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_dag-2.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Felix Forster.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

