<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Creating SCC models — create_scc • epicmodel</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Creating SCC models — create_scc"><meta name="description" content="Creates a sufficient-components cause (SCC) model from a steplist, which is a list of IF/THEN statements describing the causal mechanism behind
an outcome of interest. The steplist needs to meet certain structural requirements. Therefore, for steplist creation, use the Steplist Creator
shiny app launched by launch_steplist_creator()."><meta property="og:description" content="Creates a sufficient-components cause (SCC) model from a steplist, which is a list of IF/THEN statements describing the causal mechanism behind
an outcome of interest. The steplist needs to meet certain structural requirements. Therefore, for steplist creation, use the Steplist Creator
shiny app launched by launch_steplist_creator()."><meta property="og:image" content="https://forsterepi.github.io/epicmodel/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">epicmodel</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/epicmodel.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/steplist.html">Steplists</a></li>
    <li><a class="dropdown-item" href="../articles/steplist_creator_tutorial.html">Steplist Creator Tutorial</a></li>
    <li><a class="dropdown-item" href="../articles/scc.html">SCC Models</a></li>
    <li><a class="dropdown-item" href="../articles/modules.html">Modules</a></li>
    <li><a class="dropdown-item" href="../articles/glossary.html">Glossary</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/forsterepi/epicmodel/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Creating SCC models</h1>
      <small class="dont-index">Source: <a href="https://github.com/forsterepi/epicmodel/blob/v0.1.1/R/create_scc.R" class="external-link"><code>R/create_scc.R</code></a></small>
      <div class="d-none name"><code>create_scc.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates a sufficient-components cause (SCC) model from a steplist, which is a list of IF/THEN statements describing the causal mechanism behind
an outcome of interest. The steplist needs to meet certain structural requirements. Therefore, for steplist creation, use the Steplist Creator
<code>shiny</code> app launched by <code><a href="launch_steplist_creator.html">launch_steplist_creator()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_scc</span><span class="op">(</span><span class="va">steplist</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-steplist">steplist<a class="anchor" aria-label="anchor" href="#arg-steplist"></a></dt>
<dd><p>An object of class <code>epicmodel_steplist_checked</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>epicmodel_scc</code>. If no sufficient causes are found, no object is returned but instead a corresponding message
is displayed in the console.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The following algorithm is used to create a sufficient-component cause (SCC) model from a steplist.</p><ul><li><p>Check inputs: The steplist needs to be checked by <code><a href="check_steplist.html">check_steplist()</a></code> before input</p></li>
<li><p>Are modules used: Evaluate if the steplist contains modules</p></li>
<li><p>Process steplist: Process steplist and outcome definition so that they can be used by the procedure</p></li>
<li><p>Get all combinations of component causes in the steplist: Component causes are steps, which themselves have no IF condition but appear
in IF conditions of other steps (and maybe additionally in IFNOT conditions). Interventions are not considered to be component causes.
Interventions are as well steps without IF condition, but they only appear in IFNOT conditions of other steps. Invalid combinations of
component causes as specified in the ICC part of the steplist are excluded, as well as every component cause being absent.</p></li>
<li><p>Check sufficiency: Sufficiency is checked for every combination of component causes. First, based on a specific set of component causes,
it is derived, which steps can be caused by this set, i.e., which IF conditions are fulfilled. For this, a current set of included steps is
defined, which in the beginning includes only the corresponding set of component causes. Then, it is iteratively checked, for which other
steps with IF condition (i.e., excluding non-selected component causes and interventions) this IF condition is fulfilled. These steps are
added to the current set of included steps and the process is repeated until for no new steps the IF condition is fulfilled. Second, this
final list of steps is compared against the outcome definitions. If it is fulfilled, the set of component causes is sufficient.</p></li>
<li><p>Check IFNOT conditions: Please note that IFNOT conditions were ignored up to this point. Now, all sets of component causes that were found
to be sufficient previously, are re-checked for IFNOT conditions. First, it is checked if there are any IFNOT conditions in the final list of
steps derived above and if those are fulfilled based only on the other steps in this list. If no, checking is complete and the corresponding
set of component causes is always sufficient. If yes, further checking is required. In these cases, sufficiency depends on the order in which
individual steps occur. In principle, a step with both IF and IFNOT conditions fulfilled, occurs if the IF condition is fulfilled before the
IFNOT condition, similar to how I do not care if a door is closed if I already went through it when it was still open. Please note that this
approach extends SCC models by an additional time component. Sufficiency is therefore re-checked for all possible sequences of IF and IFNOT
conditions of all steps that include IFNOT conditions that can be fulfilled by the final set of steps. It is possible to have component causes
with IFNOT conditions. Since they do not have an IF condition, the THEN statement is used instead. For every sequence, it is evaluated if the
IF (or THEN for component causes) occurs before or after the IFNOT. If IF/THEN occur after the corresponding IFNOT, this step is removed from
the final list of steps. Sufficieny is now re-checked based on the updated list. If some orderings do not fulfill the outcome definition,
the sufficiency status of the corresponding set of component causes is changed to "depends", as it depends on the sequence of events. Please
note that currently, all sequences are checked even though some of them might be implausible, e.g., when two steps with IFNOT conditions are
chained together. In this case, there will be a warning displayed, but the user ultimately needs to check plausibility of the sequence of
events.</p></li>
<li><p>Minimize: Sufficient causes must be minimal by definition, i.e., every component cause must be necessary within its sufficient cause, i.e.,
the absence of one component cause of a sufficient set means that the outcome does not occur anymore. Therefore, the list of sufficient (both
always and depends) sets of component causes is reduced to minimal ones.</p></li>
<li><p>Add unknown causes: It is possible/likely that unknown causes, both component causes and sufficient causes, are not part of the model yet.
Therefore, every sufficient cause gets an additional individual (i.e., a different one for each sufficient cause) unknown component cause
representing additional unknown components, and one unknown sufficient cause is added to the model consisting of a single unknown component
cause and representing all unknown sufficient causes. If relevant, the user can decide in functions with the SCC model as input if unknown
causes should be included or not.</p></li>
<li><p>Output preparation: Combines all outputs to an object of class <code>epicmodel_scc</code> for further analysis.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Rothman KJ (1976): Causes. American Journal of Epidemiology 104 (6): 587–592.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="epicmodel_scc.html">SCC models</a></code> for information on <code>epicmodel_scc</code> objects</p></li>
<li><p><code><a href="epicmodel_steplist.html">Steplist</a></code> for information on <code>epicmodel_steplist</code> objects</p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># First, create a steplist in the shiny app</span></span></span>
<span class="r-in"><span><span class="co"># Launch the app with launch_steplist_creator()</span></span></span>
<span class="r-in"><span><span class="co"># Then load your steplist using readRDS()</span></span></span>
<span class="r-in"><span><span class="co"># In this example we use the built-in steplist_rain</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check the steplist before running create_scc()</span></span></span>
<span class="r-in"><span><span class="va">steplist_checked</span> <span class="op">&lt;-</span> <span class="fu"><a href="check_steplist.html">check_steplist</a></span><span class="op">(</span><span class="va">steplist_rain</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Checking </span><span style="font-weight: bold; font-style: italic;">epicmodel_steplist</span><span style="font-weight: bold;"> steplist_rain</span> <span style="color: #00BBBB;">───────────────────────────────────</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking WHAT IDs was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking DOES IDs was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking WHERE IDs was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking Module IDs was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking ICC IDs was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking WHAT keywords was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking DOES keywords was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking WHERE keywords was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking Module keywords was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking Modules was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking ICC entries was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking WHAT segments was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking DOES segments was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking WHERE segments was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking references was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking start/end steps was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking THEN statements was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking THEN/IF/IFNOT equality was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking outcome definitions was successful.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── Summary ─────────────────────────────────────────────────────────────────────</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking successful!</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use the checked steplist in create_scc()</span></span></span>
<span class="r-in"><span><span class="va">scc_model</span> <span class="op">&lt;-</span> <span class="fu">create_scc</span><span class="op">(</span><span class="va">steplist_checked</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Create SCC Model</span> ──</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> 15/15 | Check if set of component causes is sufficient</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> 5/5 | Check if sufficiency dependends on IFNOT conditions</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> 5/5 | Check if sufficient cause is minimal</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> 2/5 sufficient causes are minimal</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Felix Forster.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

